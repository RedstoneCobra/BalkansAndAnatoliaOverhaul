#
# remember to add graphics for relevant ones when you add to this
#
# if a modifier is scaled, its multiplied with development in the province.

#######################################
# Legalism.  
# 
# Most in the old world start with it.
#######################################

legalism = {
	penalty = 0.50
	bonus = {
		max_states = 1
		max_absolutism = 15
	}
	
	
	history = {
		is_year = 1000
		OR = {
			NOT = { has_province_flag = tribals_control_province }
			AND = {
				check_variable = { which = tribals_ratio	value = 0.001 }
				NOT = { check_variable = { which = tribals_ratio	value = 12 } }
			}
		}
		owner = {
			OR = {
				capital_scope = { has_province_flag = tribals_control_province }
				NOT = { any_owned_province = { has_province_flag = tribals_control_province } }
				# Keeos BYZ and Epirus legalistic at game start
				tag = BYZ
				tag = SER
			}
		}
	}
	
	# no need for events, as its there from the start.
	#can_start = {	is_year = 1000	}
	#start_chance = 100
	#on_start = institution_events.1
	
	can_embrace = {
		always = yes
	}
	
	embracement_speed = {
		modifier = {
			factor = -2.2
			scale = no
			potential = {
				NOT = { province_trade_power = 0.5 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_0_5_TRADE_POWER
				NOT = { province_trade_power = 0.5 }
			}
		}
		modifier = {
			factor = -1.0
			scale = no
			potential = {
				province_trade_power = 0.5
				NOT = { province_trade_power = 3 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_3_TRADE_POWER
				province_trade_power = 0.5
				NOT = { province_trade_power = 3 }
			}
		}
		modifier = {
			factor = -0.5
			scale = no
			potential = {
				province_trade_power = 3
				NOT = { province_trade_power = 8 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_8_TRADE_POWER
				province_trade_power = 3
				NOT = { province_trade_power = 8 }
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 1.2
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_LEGALISM
				OR = {
					any_neighbor_province = {
						legalism = 100
					}
					any_friendly_coast_border_province = {
						legalism = 100
					}
				}
			}
		}
		modifier = {
			factor = 1.2
			scale = no
			potential = {
				owner = {
					has_institution = legalism
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_legalism_embraced
				owner = {
					has_institution = legalism
				}
				OR = {
					any_neighbor_province = {
						legalism = 100
					}
					any_friendly_coast_border_province = {
						legalism = 100
					}
				}
			}
		}
		
		# Art Center Reinvents Institution
		#		modifier = {
		#			factor = 2.0
		#			scale = no
		#			potential = {
		#				has_province_flag = institution_reinvention_legalism_5
		#				has_province_flag = has_art_center_modifier
		#			}
		#			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_REINVENT always = yes }
		#		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 3.6
			scale = no
			potential = {
				has_province_flag = institution_legalism_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 3
			scale = no
			potential = {
				has_province_flag = institution_legalism_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_flag = institution_legalism_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.8
			scale = no
			potential = {
				has_province_flag = institution_legalism_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.2
			scale = no
			potential = {
				has_province_flag = institution_legalism_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		# Center of Trade Spread
		modifier = {
			factor = 1.2
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_legalism_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					exists = yes
					has_institution = legalism
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.2
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_legalism_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					exists = yes
					has_institution = legalism
					ROOT = {
						trade_share = {
							country = PREV
							share = 5
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.2
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_legalism_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					exists = yes
					has_institution = legalism
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.2
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_legalism_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					has_institution = legalism
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
	}
}

#######################################
# Meritocracy.  
# 
# China starts with it, spreads slowly but can be reinvented with difficulty.
#######################################

I_meritocracy = {
	penalty = 0.20
	bonus = {
		advisor_cost = -0.15
	}
	
	
	history = {
		is_year = 1000
		NOT = { has_province_flag = tribals_control_province }
		owner = {
			OR = {
				capital_scope = { has_province_flag = tribals_control_province }
				NOT = { any_owned_province = { has_province_flag = tribals_control_province } }
			}
		}
		OR = {
			owned_by = QII
			owned_by = CSE
			owned_by = KOR
			owned_by = CYU
			owned_by = SNG
			owned_by = QIN
			owned_by = XIA
			owned_by = TIA
			owned_by = DAA
			owned_by = WUU
			owned_by = MNG
			owned_by = ZOU
			owned_by = CEN
			owned_by = ZHN
			owned_by = LNG
			owned_by = YUE
			owned_by = CMN
			owned_by = DAI
			owned_by = CNG
			owned_by = ZHE
			owned_by = CTA
			AND = {
				is_year = 1392
				owned_by = JOS
			}
			AND = {
				is_year = 1421
				owned_by = RYU
			}
		}
	}
	
	# no need for events, as its there from the start.
	#can_start = {	is_year = 1000	}
	#start_chance = 100
	#on_start = institution_events.1
	
	can_embrace = {
		always = yes
	}
	
	embracement_speed = {
		modifier = {
			factor = -1.8
			scale = no
			potential = {
				NOT = { owner = { has_institution = legalism } }
			}
			custom_trigger_tooltip = {
				# tooltip = NO_LEGALISM_MERITOCRACY
				tooltip = NO_LEGALISM
				NOT = { owner = { has_institution = legalism } }
			}
		}
		modifier = {
			factor = -1.5
			scale = no
			potential = {
				NOT = { province_trade_power = 2 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_2_TRADE_POWER
				NOT = { province_trade_power = 2 }
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				province_trade_power = 2
				NOT = { province_trade_power = 6 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_6_TRADE_POWER
				province_trade_power = 2
				NOT = { province_trade_power = 6 }
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 2.4
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_MERITOCRACY
				OR = {
					any_neighbor_province = {
						I_meritocracy = 100
					}
					any_friendly_coast_border_province = {
						I_meritocracy = 100
					}
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				owner = {
					has_institution = I_meritocracy
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_meritocracy_embraced
				owner = {
					has_institution = I_meritocracy
				}
				OR = {
					any_neighbor_province = {
						I_meritocracy = 100
					}
					any_friendly_coast_border_province = {
						I_meritocracy = 100
					}
				}
			}
		}
		
		# Art Center Reinvents Institution
		#		modifier = {
		#			factor = 2.4
		#			scale = no
		#			potential = {
		#				has_province_flag = institution_reinvention_meritocracy_5
		#				has_province_flag = has_art_center_modifier
		#			}
		#			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_REINVENT always = yes }
		#		}
		
		
		# Art Center Transmits Institution
		modifier = {
			factor = 6.4
			scale = no
			potential = {
				has_province_flag = institution_meritocracy_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 5.2
			scale = no
			potential = {
				has_province_flag = institution_meritocracy_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4
			scale = no
			potential = {
				has_province_flag = institution_meritocracy_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.8
			scale = no
			potential = {
				has_province_flag = institution_meritocracy_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.6
			scale = no
			potential = {
				has_province_flag = institution_meritocracy_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		# Center of Trade Spread
		modifier = {
			factor = 3.0
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_meritocracy_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					has_institution = I_meritocracy
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 3.0
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_meritocracy_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					has_institution = I_meritocracy
					ROOT = {
						has_province_modifier = major_center_of_trade
						trade_share = {
							country = PREV
							share = 5
						}
					}
				}
			}
		}
		modifier = {
			factor = 3.0
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_meritocracy_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					has_institution = I_meritocracy
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 3.0
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_meritocracy_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					has_institution = I_meritocracy
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}

#######################################
# Banking.  
# 
# Starts mostly in Europe: France and Italy, mostly.
#######################################

banking = {
	penalty = 0.15
	bonus = {
		production_efficiency = 0.1
		interest = -2
	}
	
	historical_start_date = 1358.1.1
	historical_start_province = 101 # Liguria
	
	history = {
		is_year = 1358
		NOT = { has_province_flag = tribals_control_province }
		OR = {
			province_id = 202 # Veneisi
			area = venetia_area
			area = tuscany_area
			area = liguria_area
			area = lombardy_area
			area = flanders_area
		}
	}
	
	# Should as soon as 1358 ticks around.
	can_start = {
		is_year = 1358
		province_id = 101 # Liguria
	}
	start_chance = 100
	on_start = institution_events.1
	
	can_embrace = {
		always = yes
	}
	
	embracement_speed = {
		modifier = {
			factor = -2.4
			scale = no
			potential = {
				NOT = { owner = { has_institution = legalism } }
			}
			custom_trigger_tooltip = {
				tooltip = NO_LEGALISM
				NOT = { owner = { has_institution = legalism } }
			}
		}
		modifier = {
			factor = -4.2
			scale = no
			potential = {
				NOT = { province_trade_power = 0.5 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_0_5_TRADE_POWER
				NOT = { province_trade_power = 0.5 }
			}
		}
		modifier = {
			factor = -3.2
			scale = no
			potential = {
				province_trade_power = 0.5
				NOT = { province_trade_power = 1.5 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_1_5_TRADE_POWER
				province_trade_power = 0.5
				NOT = { province_trade_power = 1.5 }
			}
		}
		modifier = {
			factor = -2.4
			scale = no
			potential = {
				province_trade_power = 1.5
				NOT = { province_trade_power = 3 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_3_TRADE_POWER
				province_trade_power = 1.5
				NOT = { province_trade_power = 3 }
			}
		}
		modifier = {
			factor = -1.5
			scale = no
			potential = {
				province_trade_power = 3
				NOT = { province_trade_power = 8 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_8_TRADE_POWER
				province_trade_power = 3
				NOT = { province_trade_power = 8 }
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				province_trade_power = 8
				NOT = { province_trade_power = 15 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_15_TRADE_POWER
				province_trade_power = 8
				NOT = { province_trade_power = 15 }
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 4.2
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_BANKING
				OR = {
					any_neighbor_province = {
						banking = 100
					}
					any_friendly_coast_border_province = {
						banking = 100
					}
				}
			}
		}
		modifier = {
			factor = 3.6
			scale = no
			potential = {
				owner = {
					has_institution = banking
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_banking_embraced
				owner = {
					has_institution = banking
				}
				OR = {
					any_neighbor_province = {
						banking = 100
					}
					any_friendly_coast_border_province = {
						banking = 100
					}
				}
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				always = yes
			}
			custom_trigger_tooltip = {
				tooltip = LACKS_BURGHERS_ESTATE
				NOT = { has_province_flag = burghers_control_province }
			}
		}
		
		# Art Center Reinvents Institution
		#		modifier = {
		#			factor = 4.2
		#			scale = no
		#			potential = {
		#				has_province_flag = institution_reinvention_banking_5
		#				has_province_flag = has_art_center_modifier
		#			}
		#			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_REINVENT always = yes }
		#		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 4.8
			scale = no
			potential = {
				has_province_flag = institution_banking_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4
			scale = no
			potential = {
				has_province_flag = institution_banking_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 3.2
			scale = no
			potential = {
				has_province_flag = institution_banking_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_flag = institution_banking_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.8
			scale = no
			potential = {
				has_province_flag = institution_banking_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		# Center of Trade Spread
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_banking_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 20
					}
				}
				any_country = {
					exists = yes
					has_institution = banking
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_banking_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 20
					}
				}
				any_country = {
					exists = yes
					has_institution = banking
					ROOT = {
						trade_share = {
							country = PREV
							share = 5
						}
					}
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_banking_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 20
					}
				}
				any_country = {
					exists = yes
					has_institution = banking
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_banking_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 20
					}
				}
				any_country = {
					exists = yes
					has_institution = banking
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
	}
}

#######################################
# Renaissance
# 
# Spawned from high urban, prestigious, and educated societies.  Spreads best in the same situation, but can spread quite slowly otherwise.
#######################################

renaissance = {
	penalty = 0.25
	
	bonus = {
		advisor_pool = 1
		build_cost = -0.05
	}
	
	historical_start_date = 1450.1.1
	historical_start_province = 116 # Florence
	
	history = {
		NOT = { has_province_flag = tribals_control_province }
		OR = {
			AND = {
				is_year = 1450
				continent = europe
			}
			AND = {
				is_year = 1500
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = south_america
			}
			AND = {
				is_year = 1500
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = north_america
			}
			AND = {
				is_year = 1600
				asia_continent_trigger = yes
				owner = {
					NOT = { government = tribal }
				}
			}
			is_year = 1780
		}
	}
	
	can_start = {
		is_year = 1450
		superregion = italy_superregion
		art_center_trigger = yes
		#		NOT = { province_id = 126 }
		is_island = no
		base_production = 5
		OR = {
			has_building = small_university
			has_building = medium_university
			has_building = big_university
		}
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.2
	
	can_embrace = {
		always = yes
	}
	
	embracement_speed = {
		modifier = {
			factor = -1.2
			scale = no
			potential = {
				NOT = { owner = { has_institution = legalism } }
			}
			custom_trigger_tooltip = {
				tooltip = NO_LEGALISM
				NOT = { owner = { has_institution = legalism } }
			}
		}
		modifier = {
			factor = -1.8
			scale = no
			potential = {
				NOT = { province_trade_power = 1 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_1_TRADE_POWER
				NOT = { province_trade_power = 1 }
			}
		}
		modifier = {
			factor = -0.9
			scale = no
			potential = {
				province_trade_power = 1
				NOT = { province_trade_power = 5 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_5_TRADE_POWER
				province_trade_power = 1
				NOT = { province_trade_power = 5 }
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 1.8
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_RENAISSANCE
				OR = {
					any_neighbor_province = {
						renaissance = 100
					}
					any_friendly_coast_border_province = {
						renaissance = 100
					}
				}
			}
		}
		modifier = {
			factor = 1.8
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_RENAISSANCE_UNIVERSITY
				OR = {
					any_neighbor_province = {
						renaissance = 100
						OR = {
							has_building = small_university
							has_building = medium_university
							has_building = big_university
						}
					}
					any_friendly_coast_border_province = {
						renaissance = 100
						OR = {
							has_building = small_university
							has_building = medium_university
							has_building = big_university
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.8
			scale = no
			potential = {
				owner = {
					has_institution = renaissance
				}
			}
			custom_trigger_tooltip = {
				tooltip = TOOLTIP_RENAISSANCE_EMBRACED
				owner = {
					has_institution = renaissance
				}
				OR = {
					any_neighbor_province = {
						renaissance = 100
					}
					any_friendly_coast_border_province = {
						renaissance = 100
					}
				}
			}
		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 8
			scale = no
			potential = {
				has_province_flag = institution_renaissance_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 6.4
			scale = no
			potential = {
				has_province_flag = institution_renaissance_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4.8
			scale = no
			potential = {
				has_province_flag = institution_renaissance_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 3.2
			scale = no
			potential = {
				has_province_flag = institution_renaissance_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.6
			scale = no
			potential = {
				has_province_flag = institution_renaissance_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		# Art Center Reinvents Institution
		#		modifier = {
		#			factor = 3.6
		#			scale = no
		#			potential = {
		#				has_province_flag = institution_reinvention_renaissance_5
		#				has_province_flag = has_art_center_modifier
		#			}
		#			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_REINVENT always = yes }
		#		}
		
		# Center of Trade Spread
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_renaissance_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					has_institution = renaissance
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_renaissance_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					has_institution = renaissance
					ROOT = {
						trade_share = {
							country = PREV
							share = 5
						}
					}
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_renaissance_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					has_institution = renaissance
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_renaissance_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					has_institution = renaissance
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
				}
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				NOT = { base_production = 1 }
			}
			custom_trigger_tooltip = {
				tooltip = NO_CITY
				NOT = { base_production = 1 }
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}


#######################################
# Casual Literacy
#######################################

casual_literacy = {
	penalty = 0.25
	
	bonus = {
		years_of_nationalism = -5
	}
	
	historical_start_date = 1550.1.1
	historical_start_province = 1365 #Frankfurt
	
	history = {
		NOT = { has_province_flag = tribals_control_province }
		OR = {
			AND = {
				is_year = 1560
				OR = {
					religion = protestant
					religion = reformed
					region = west_italy_region
					region = east_italy_region
					region = central_italy_region
					region = naples_region
					region = sicily_region
					region = east_france_region
					region = ouest_france_region
					region = aquitaine_region
					region = languedoc_region
				}
			}
			AND = {
				is_year = 1575
				continent = europe
				development = 12
			}
			AND = {
				is_year = 1600
				continent = europe
			}
			AND = {
				is_year = 1600
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = south_america
			}
			AND = {
				is_year = 1600
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = north_america
			}
			AND = {
				is_year = 1625
				superregion = near_east_superregion
			}
			AND = {
				is_year = 1650
				superregion = persia_superregion
			}
			AND = {
				is_year = 1725
				OR = {
					superregion = west_india_superregion
					superregion = north_india_superregion
					superregion = rajputana_superregion
					superregion = east_india_superregion
					superregion = central_india_superregion
					superregion = south_india_superregion
					superregion = east_china_superregion
					superregion = north_china_superregion
					superregion = southwest_china_superregion
					superregion = east_indies_superregion
				}
			}
		}
	}
	
	can_start = {
		is_year = 1525
		owner = { adm_tech = 20 }
		is_island = no
		OR = {
			is_part_of_hre = yes
			owner = { has_idea_group = innovativeness_ideas }
		}
		OR = {
			religion = protestant
			religion = reformed
		}
		art_center_trigger = yes
	}
	start_chance = 5		#in 100 for when a province can_start
	
	on_start = institution_events.4
	
	can_embrace = {
		always = yes
	}
	
	
	embracement_speed = {
		modifier = {
			factor = -1.8
			scale = no
			potential = {
				NOT = { owner = { has_institution = legalism } }
			}
			custom_trigger_tooltip = {
				tooltip = NO_LEGALISM
				NOT = { owner = { has_institution = legalism } }
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				NOT = { owner = { has_institution = renaissance } }
			}
			custom_trigger_tooltip = {
				tooltip = NO_RENAISSACE
				NOT = { owner = { has_institution = renaissance } }
			}
		}
		modifier = {
			factor = -1.2
			scale = no
			potential = {
				NOT = { base_production = 1 }
			}
			custom_trigger_tooltip = {
				tooltip = NO_CITY
				NOT = { base_production = 1 }
			}
		}
		modifier = {
			factor = -2.4
			scale = no
			potential = {
				NOT = { province_trade_power = 1 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_1_TRADE_POWER
				NOT = { province_trade_power = 1 }
			}
		}
		modifier = {
			factor = -1.2
			scale = no
			custom_trigger_tooltip = {
				tooltip = STALE_RELIGION_CASUAL_LITERACY
				any_neighbor_province = {
					NOT = { religion = ROOT }
				}
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			custom_trigger_tooltip = {
				tooltip = STALE_RELIGION_CASUAL_LITERACY_NATION
				owner = {
					religious_unity = 80
				}
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 3.6
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_CASUAL_LITERACY
				OR = {
					any_neighbor_province = {
						casual_literacy = 100
					}
					any_friendly_coast_border_province = {
						casual_literacy = 100
					}
				}
			}
		}
		modifier = {
			factor = 3.6
			scale = no
			potential = {
				owner = {
					has_institution = casual_literacy
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_casual_literacy_embraced
				owner = {
					has_institution = casual_literacy
				}
				OR = {
					any_neighbor_province = {
						casual_literacy = 100
					}
					any_friendly_coast_border_province = {
						casual_literacy = 100
					}
				}
			}
		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 6.4
			scale = no
			potential = {
				has_province_flag = institution_casual_literacy_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 5.2
			scale = no
			potential = {
				has_province_flag = institution_casual_literacy_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4
			scale = no
			potential = {
				has_province_flag = institution_casual_literacy_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.8
			scale = no
			potential = {
				has_province_flag = institution_casual_literacy_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.6
			scale = no
			potential = {
				has_province_flag = institution_casual_literacy_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_casual_literacy_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
					has_institution = casual_literacy
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_casual_literacy_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 5
						}
					}
					has_institution = casual_literacy
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_casual_literacy_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
					has_institution = casual_literacy
				}
			}
		}
		modifier = {
			factor = 2.4
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_casual_literacy_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 50
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
					has_institution = casual_literacy
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}

#######################################
# Globalized Trade
#######################################

global_trade = {
	penalty = 0.20
	
	bonus = {
		global_foreign_trade_power = 0.10
		global_prov_trade_power_modifier = 0.10
		trade_steering = 0.1
	}
	
	historical_start_date = 1600.1.1
	historical_start_province = 97 #Holland
	
	history = {
		NOT = { has_province_flag = tribals_control_province }
		OR = {
			AND = {
				is_year = 1620
				continent = europe
				owner = { technology_group = western }
			}
			
			AND = {
				is_year = 1660
				continent = europe
			}
			AND = {
				is_year = 1660
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = south_america
			}
			AND = {
				is_year = 1660
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = north_america
			}
			AND = {
				is_year = 1700
				is_capital = no
				OR = {
					north_africa_region_trigger = yes
					superregion = near_east_superregion
				}
			}
			
			AND = {
				is_year = 1720
				has_port = yes
				is_capital = no
				OR = {
					superregion = west_india_superregion
					superregion = north_india_superregion
					superregion = rajputana_superregion
					superregion = east_india_superregion
					superregion = central_india_superregion
					superregion = south_india_superregion
					superregion = persia_superregion
					superregion = east_indies_superregion
				}
			}
			AND = {
				is_year = 1750
				has_port = yes
				is_capital = no
				africa_continent_trigger = yes
			}
		}
	}
	
	can_start = {
		is_year = 1600
		OR = {
			has_province_modifier = major_center_of_trade
			has_province_modifier = dominant_center_of_trade
			has_province_modifier = important_center_of_trade
		}
		owner = { dip_tech = 27 }
		is_island = no
		is_state = yes
		has_port = yes
		owner = {
			home_trade_node = {
				is_strongest_trade_power = PREV
				highest_value_trade_node = yes
			}
		}
	}
	start_chance = 25		#in 100 for when a province can_start
	
	
	on_start = institution_events.5
	
	
	can_embrace = {
		owner = { has_institution = banking }
	}
	
	
	embracement_speed = {
		modifier = {
			factor = -1.2
			scale = no
			potential = {
				NOT = { owner = { has_institution = banking } }
			}
			custom_trigger_tooltip = {
				tooltip = NO_BANKING
				NOT = { owner = { has_institution = banking } }
			}
		}
		modifier = {
			factor = -3.6
			scale = no
			potential = {
				NOT = { province_trade_power = 1 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_1_TRADE_POWER
				NOT = { province_trade_power = 1 }
			}
		}
		modifier = {
			factor = -2.4
			scale = no
			potential = {
				province_trade_power = 1
				NOT = { province_trade_power = 2 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_2_TRADE_POWER
				province_trade_power = 1
				NOT = { province_trade_power = 2 }
			}
		}
		modifier = {
			factor = -1.8
			scale = no
			potential = {
				province_trade_power = 2
				NOT = { province_trade_power = 5 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_5_TRADE_POWER
				province_trade_power = 2
				NOT = { province_trade_power = 5 }
			}
		}
		modifier = {
			factor = -1.2
			scale = no
			potential = {
				province_trade_power = 5
				NOT = { province_trade_power = 10 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_10_TRADE_POWER
				province_trade_power = 5
				NOT = { province_trade_power = 10 }
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				province_trade_power = 10
				NOT = { province_trade_power = 18 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_18_TRADE_POWER
				province_trade_power = 10
				NOT = { province_trade_power = 18 }
			}
		}
		
		modifier = {
			factor = -2.4
			scale = no
			potential = {
				NOT = { owner = { trade_income_percentage = 0.60 } }
			}
			custom_trigger_tooltip = {
				owner = { trade_income_percentage = 0.30 }
				NOT = { owner = { trade_income_percentage = 0.60 } }
			}
		}
		
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				owner = { trade_income_percentage = 0.30 }
			}
			custom_trigger_tooltip = {
				owner = { trade_income_percentage = 0.60 }
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 4.2
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_GLOBAL_TRADE
				OR = {
					any_neighbor_province = {
						global_trade = 100
					}
					any_friendly_coast_border_province = {
						global_trade = 100
					}
				}
			}
		}
		modifier = {
			factor = 3.6
			scale = no
			potential = {
				owner = {
					has_institution = global_trade
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_embraced
				owner = {
					has_institution = global_trade
				}
				OR = {
					any_neighbor_province = {
						global_trade = 100
					}
					any_friendly_coast_border_province = {
						global_trade = 100
					}
				}
			}
		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 6.4
			scale = no
			potential = {
				has_province_flag = institution_global_trade_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 5.2
			scale = no
			potential = {
				has_province_flag = institution_global_trade_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4
			scale = no
			potential = {
				has_province_flag = institution_global_trade_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.8
			scale = no
			potential = {
				has_province_flag = institution_global_trade_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.6
			scale = no
			potential = {
				has_province_flag = institution_global_trade_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		# Center of Trade Spread
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
					has_institution = global_trade
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 5
						}
					}
					has_institution = global_trade
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
					has_institution = global_trade
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 30
					}
				}
				any_country = {
					has_institution = global_trade
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}


#######################################
# Industrialization
#######################################

manufactories = {
	penalty = 0.25
	
	bonus = {
		global_trade_goods_size_modifier = 0.10
		production_efficiency = 0.10
	}
	
	historical_start_date = 1650.1.1
	historical_start_province = 183 #Paris
	
	history = {
		NOT = { has_province_flag = tribals_control_province }
		OR = {
			AND = {
				is_year = 1680
				continent = europe
				owner = { technology_group = western }
			}
			
			AND = {
				is_year = 1720
				continent = europe
			}
			AND = {
				is_year = 1750
				OR = {
					superregion = east_china_superregion
					superregion = north_china_superregion
					superregion = southwest_china_superregion
				}
			}
			AND = {
				is_year = 1750
				OR = {
					superregion = west_india_superregion
					superregion = north_india_superregion
					superregion = rajputana_superregion
					superregion = east_india_superregion
					superregion = central_india_superregion
					superregion = south_india_superregion
				}
			}
			AND = {
				is_year = 1750
				superregion = near_east_superregion
			}
			AND = {
				is_year = 1750
				maghreb_region_trigger = yes
			}
			AND = {
				is_year = 1750
				region = egypt_region
			}
			AND = {
				is_year = 1760
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = south_america
			}
			AND = {
				is_year = 1760
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = north_america
			}
			
			AND = {
				is_year = 1780
				superregion = persia_superregion
			}
		}
	}
	
	can_start = {
		is_year = 1650
		owner = { adm_tech = 36 }
		base_production = 16
		check_variable = { which = urban_population_ratio value = 0.4 }
		has_building = factory
		production_center_trigger = yes
		is_island = no
	}
	
	start_chance = 10		#in 100 for when a province can_start
	
	on_start = institution_events.6
	
	can_embrace = {
		always = yes
	}
	
	embracement_speed = {
		modifier = {
			factor = -1.2
			scale = no
			potential = {
				NOT = { owner = { has_institution = global_trade } }
			}
			custom_trigger_tooltip = {
				tooltip = NO_BANKING
				NOT = { owner = { has_institution = global_trade } }
			}
		}
		modifier = {
			factor = -3.6
			scale = no
			potential = {
				NOT = { province_trade_power = 1 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_1_TRADE_POWER
				NOT = { province_trade_power = 1 }
			}
		}
		modifier = {
			factor = -2.4
			scale = no
			potential = {
				province_trade_power = 1
				NOT = { province_trade_power = 2 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_2_TRADE_POWER
				province_trade_power = 1
				NOT = { province_trade_power = 2 }
			}
		}
		modifier = {
			factor = -1.8
			scale = no
			potential = {
				province_trade_power = 2
				NOT = { province_trade_power = 5 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_5_TRADE_POWER
				province_trade_power = 2
				NOT = { province_trade_power = 5 }
			}
		}
		modifier = {
			factor = -1.2
			scale = no
			potential = {
				province_trade_power = 5
				NOT = { province_trade_power = 10 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_10_TRADE_POWER
				province_trade_power = 5
				NOT = { province_trade_power = 10 }
			}
		}
		modifier = {
			factor = -0.6
			scale = no
			potential = {
				province_trade_power = 10
				NOT = { province_trade_power = 18 }
			}
			custom_trigger_tooltip = {
				tooltip = UNDER_18_TRADE_POWER
				province_trade_power = 10
				NOT = { province_trade_power = 18 }
			}
		}
		
		# Province to Province Spread
		modifier = {
			factor = 4.2
			scale = no
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_HAS_MANUFACTORIES
				OR = {
					any_neighbor_province = {
						manufactories = 100
					}
					any_friendly_coast_border_province = {
						manufactories = 100
					}
				}
			}
		}
		modifier = {
			factor = 3.6
			scale = no
			potential = {
				owner = {
					has_institution = manufactories
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_manufactories_embraced
				owner = {
					has_institution = manufactories
				}
				OR = {
					any_neighbor_province = {
						manufactories = 100
					}
					any_friendly_coast_border_province = {
						manufactories = 100
					}
				}
			}
		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 6.4
			scale = no
			potential = {
				has_province_flag = institution_manufactories_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 5.2
			scale = no
			potential = {
				has_province_flag = institution_manufactories_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4
			scale = no
			potential = {
				has_province_flag = institution_manufactories_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.8
			scale = no
			potential = {
				has_province_flag = institution_manufactories_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.6
			scale = no
			potential = {
				has_province_flag = institution_manufactories_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		# Center of Trade Spread
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = dominant_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_dominant
				has_province_modifier = dominant_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 2.5
						}
					}
					has_institution = manufactories
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = major_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_major
				has_province_modifier = major_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 5
						}
					}
					has_institution = manufactories
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = important_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_important
				has_province_modifier = important_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 7.5
						}
					}
					has_institution = manufactories
				}
			}
		}
		modifier = {
			factor = 4.2
			scale = no
			potential = {
				has_province_modifier = minor_center_of_trade
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_global_trade_trade_minor
				has_province_modifier = minor_center_of_trade
				owner = {
					check_variable = {
						which = education_level
						value = 40
					}
				}
				any_country = {
					exists = yes
					ROOT = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
					has_institution = manufactories
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}



#######################################
# Enlightenment
#######################################
enlightenment = {
	penalty = 0.5
	
	bonus = {
		num_accepted_cultures = 1
	}
	
	historical_start_date = 1700.1.1
	historical_start_province = 236 #London
	
	history = {
		NOT = { has_province_flag = tribals_control_province }
		OR = {
			AND = {
				is_year = 1700
				continent = europe
				owner = { technology_group = western }
			}
			
			AND = {
				is_year = 1730
				continent = europe
			}
			
			AND = {
				is_year = 1800
				superregion = near_east_superregion
			}
			AND = {
				is_year = 1770
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = south_america
			}
			AND = {
				is_year = 1770
				owner = {
					NOT = { technology_group = north_american }
					NOT = { technology_group = mesoamerican }
					NOT = { technology_group = south_american }
					NOT = { technology_group = andean }
				}
				continent = north_america
			}
		}
	}
	
	can_start = {
		is_year = 1700
		is_in_capital_area = yes
		is_island = no
		base_production = 16
		university_province_trigger = yes
		art_center_trigger = yes
	}
	start_chance = 10		#in 100 for when a province can_start
	
	
	on_start = institution_events.7
	
	
	can_embrace = {
		owner = { has_institution = casual_literacy }
	}
	
	
	embracement_speed = {
		modifier = {
			factor = 0.1
			scale = yes
			custom_trigger_tooltip = {
				tooltip = tooltip_any_friendly_coast_border_province_has_embraced_enlightenment
				any_friendly_coast_border_province = {
					enlightenment = 100
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			
			custom_trigger_tooltip = {
				tooltip = tooltip_any_neighbor_has_embraced_enlightenment
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					enlightenment = 100
				}
			}
		}
		
		# Art Center Transmits Institution
		modifier = {
			factor = 6.4
			scale = no
			potential = {
				has_province_flag = institution_enlightenment_spread_1
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 5.2
			scale = no
			potential = {
				has_province_flag = institution_enlightenment_spread_2
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 4
			scale = no
			potential = {
				has_province_flag = institution_enlightenment_spread_3
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 2.8
			scale = no
			potential = {
				has_province_flag = institution_enlightenment_spread_4
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		modifier = {
			factor = 1.6
			scale = no
			potential = {
				has_province_flag = institution_enlightenment_spread_5
				has_province_flag = has_art_center_modifier
			}
			custom_trigger_tooltip = { tooltip = ART_CENTER_INSTITUTION_SPREAD always = yes }
		}
		
		modifier = {
			factor = 5
			university_province_trigger = yes
		}
		modifier = {
			factor = 5
			potential = {
				owner = {
					has_parliament = yes
				}
			}
			has_seat_in_parliament = yes
		}
		modifier = {
			factor = 1.5
			custom_trigger_tooltip = {
				tooltip = tooltip_philosopher_capital
				is_capital = yes
				owner = {
					advisor = philosopher
					dip_tech = 20
				}
			}
		}
		modifier = {
			factor = 3
			custom_trigger_tooltip = {
				tooltip = tooltip_scientist_capital
				is_capital = yes
				owner = {
					advisor = natural_scientist
					dip_tech = 20
				}
			}
		}
		modifier = {
			factor = 5
			custom_trigger_tooltip = {
				tooltip = tooltip_full_innovativeness
				is_capital = yes
				owner = {
					full_idea_group = innovativeness_ideas
				}
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_colonial_overlord_enlightenment
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = enlightenment }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = enlightenment
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_enlightenment_embraced
				owner = {
					has_institution = enlightenment
				}
			}
		}
	}
	
	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24
		
		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}